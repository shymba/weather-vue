(function(){"use strict";var t={6808:function(t,e,a){var n=a(9242),i=a(3396);function r(t,e){const a=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(a)}var o=a(89);const c={},s=(0,o.Z)(c,[["render",r]]);var u=s,l=a(2483);const h={class:"home"};function d(t,e,a,n,r,o){const c=(0,i.up)("WeatherComponent");return(0,i.wg)(),(0,i.iD)("div",h,[(0,i.Wm)(c)])}var p=a(7139);const y=t=>((0,i.dD)("data-v-709349ec"),t=t(),(0,i.Cn)(),t),m={class:"hello"},f=y((()=>(0,i._)("h3",{class:"title"},"Weather App",-1))),v={class:"select-container"},C={id:"data"};function w(t,e,a,r,o,c){const s=(0,i.up)("CityList");return(0,i.wg)(),(0,i.iD)("div",m,[f,(0,i._)("div",v,[(0,i._)("form",null,[(0,i.wy)((0,i._)("input",{type:"search",placeholder:"search",list:"data","onUpdate:modelValue":e[0]||(e[0]=t=>o.inputCityName=t),onKeydown:e[1]||(e[1]=(0,n.D2)((t=>c.getCity(o.inputCityName)),["enter"])),onInput:[e[2]||(e[2]=t=>c.changeCity(t)),e[3]||(e[3]=t=>c.onChange(t))]},null,544),[[n.nr,o.inputCityName]]),(0,i._)("datalist",C,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.cities,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.lat},(0,p.zw)(t.name)+", "+(0,p.zw)(t.country),1)))),128))])]),(0,i.Wm)(s,{cityData:o.cityData,cityWeather:o.cityWeather.list},null,8,["cityData","cityWeather"])])])}a(7658);var g=a(7327);class _{constructor(){(0,g.Z)(this,"_apiKey","74793db7b6b9e806a38511a9fcd8a506")}async getCitiesList(t){const e=await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${t}&limit=5&appid=${this._apiKey}`).then((t=>t.json()));return e}async getOneCity(t,e){const a=await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${e}&appid=${this._apiKey}&units=metric`).then((t=>t.json()));return a}async getHourlyForecastData(t,e){const a=await fetch(`https://api.openweathermap.org/data/2.5/forecast?lat=${t}&lon=${e}&appid=${this._apiKey}&units=metric`).then((t=>t.json()));return a}}const b=["id"];function D(t,e,a,n,r,o){return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("canvas",{id:a.id,width:"500",height:"400"},null,8,b)])}var W=a(6580),O={name:"MyChart",props:{id:{type:Number,required:!0},labelsChart:{type:Array,required:!0},dataChart:{type:Array,required:!0}},data(){return{chartData:{labels:this.labelsChart,datasets:[{label:"This week",data:this.dataChart,backgroundColor:"rgba(224, 248, 255, 0.4)",borderColor:"#5cddff",lineTension:0,pointBackgroundColor:"#5cddff"}]},dataLabels:[],dataDatasets:[]}},methods:{chartConstructor(){let t=document.getElementById(`${this.id}`);this.chart=new W.kL(t,{type:"line",data:this.chartData})},test(){}},mounted(){this.chartConstructor()}};const j=(0,o.Z)(O,[["render",D]]);var k=j;function L(t,e,a,n,r,o){const c=(0,i.up)("CityItem");return(0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.cityData,(t=>((0,i.wg)(),(0,i.j4)(c,{city:t,cityWeather:a.cityWeather,id:t.id},null,8,["city","cityWeather","id"])))),256)}const N=t=>((0,i.dD)("data-v-4e42945c"),t=t(),(0,i.Cn)(),t),$={class:"card"},F={class:"card__info-block"},I={class:"card__city-name"},x={class:"card__city-temp"},K={class:"city-temp__feels"},Z={class:"city-temp__temp"},H=N((()=>(0,i._)("div",{class:"card__chart"},null,-1)));function T(t,e,a,n,r,o){return(0,i.wg)(),(0,i.iD)("div",$,[(0,i._)("div",F,[(0,i._)("div",I,"City Name: "+(0,p.zw)(a.city.name),1),(0,i._)("div",x,[(0,i._)("div",K,"Temperature: "+(0,p.zw)(a.city.temp),1),(0,i._)("div",Z,"Feels like: "+(0,p.zw)(a.city.feels),1)])]),H])}var q={name:"CityItem",components:{MyChart:k},props:{city:{type:Object,required:!0},cityWeather:{type:Array}},data(){return{dataLabels:[],datasetsForChart:[]}},methods:{},computed:{dataLabelWeather(){return this.cityWeather.forEach((t=>{this.dataLabels.push(t.dt_txt)})),this.dataLabels},dataWeather(){return this.cityWeather.forEach((t=>{this.datasetsForChart.push(t.main.temp)})),this.datasetsForChart}}};const z=(0,o.Z)(q,[["render",T],["__scopeId","data-v-4e42945c"]]);var A=z,E={name:"CityList",components:{CityItem:A},props:{cityData:{type:Object},cityWeather:{type:Array}}};const M=(0,o.Z)(E,[["render",L]]);var P=M;const B=new _;var V={name:"WeatherComponent",components:{MyChart:k,CityList:P},data(){return{cities:null,inputCityName:null,cityData:[],HourlyForecast:null,cityListData:[],cityID:Number,cityWeather:[{dt_txt:"2023-05-22 21:00:00",main:{temp:14.34}}]}},methods:{async getCity(t){const e=t.split(", "),a=this.cities.find((t=>t.name===e[0]&&t.country===e[1])),n=await B.getOneCity(a.lat,a.lon);this.cityData.push({name:n.name,temp:n.main.temp,feels:n.main.feels_like,id:n.id}),this.inputCityName=null,this.cityWeather=await B.getHourlyForecastData(a.lat,a.lon)},changeCity(t){t.inputType||this.getCity(this.inputCityName)},async onChange(t){this.inputCityName=t.target.value,this.cities=await B.getCitiesList(this.inputCityName)}}};const Y=(0,o.Z)(V,[["render",w],["__scopeId","data-v-709349ec"]]);var U=Y,G={name:"HomeView",components:{WeatherComponent:U}};const J=(0,o.Z)(G,[["render",d]]);var Q=J;const R=[{path:"/",name:"home",component:Q}],S=(0,l.p7)({history:(0,l.PO)("/"),routes:R});var X=S;(0,n.ri)(u).use(X).mount("#app")}},e={};function a(n){var i=e[n];if(void 0!==i)return i.exports;var r=e[n]={exports:{}};return t[n].call(r.exports,r,r.exports,a),r.exports}a.m=t,function(){var t=[];a.O=function(e,n,i,r){if(!n){var o=1/0;for(l=0;l<t.length;l++){n=t[l][0],i=t[l][1],r=t[l][2];for(var c=!0,s=0;s<n.length;s++)(!1&r||o>=r)&&Object.keys(a.O).every((function(t){return a.O[t](n[s])}))?n.splice(s--,1):(c=!1,r<o&&(o=r));if(c){t.splice(l--,1);var u=i();void 0!==u&&(e=u)}}return e}r=r||0;for(var l=t.length;l>0&&t[l-1][2]>r;l--)t[l]=t[l-1];t[l]=[n,i,r]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,r,o=n[0],c=n[1],s=n[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(i in c)a.o(c,i)&&(a.m[i]=c[i]);if(s)var l=s(a)}for(e&&e(n);u<o.length;u++)r=o[u],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(l)},n=self["webpackChunkweather_app"]=self["webpackChunkweather_app"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(6808)}));n=a.O(n)})();
//# sourceMappingURL=app.03be285f.js.map